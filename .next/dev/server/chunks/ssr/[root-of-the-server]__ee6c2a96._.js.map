{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimyongjin/blog/components/logout-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutButton() from the server but LogoutButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/logout-button.tsx <module evaluation>\",\n    \"LogoutButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8DACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimyongjin/blog/components/logout-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutButton() from the server but LogoutButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/logout-button.tsx\",\n    \"LogoutButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,0CACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimyongjin/blog/app/admin/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { FileText, Users, Eye, TrendingUp, Edit } from \"lucide-react\"\nimport { createSupabaseServer } from \"@/lib/supabase/server\"\nimport { LogoutButton } from \"@/components/logout-button\"\nimport { Article } from \"@/lib/types/article\"\n\nasync function getStats(userId: string) {\n  const supabase = await createSupabaseServer()\n  \n  const { data: articles } = await supabase\n    .from(\"articles\")\n    .select(\"views, status, created_at\")\n    .eq(\"author_id\", userId)\n\n  if (!articles) return null\n\n  const totalArticles = articles.length\n  const publishedArticles = articles.filter((a) => a.status === \"published\").length\n  const totalViews = articles.reduce((sum, a) => sum + (a.views || 0), 0)\n  const thisMonth = new Date()\n  thisMonth.setDate(1)\n  const thisMonthArticles = articles.filter(\n    (a) => new Date(a.created_at) >= thisMonth\n  ).length\n\n  return {\n    totalArticles,\n    publishedArticles,\n    totalViews,\n    thisMonthArticles,\n  }\n}\n\nasync function getRecentArticles(userId: string) {\n  const supabase = await createSupabaseServer()\n  \n  const { data: articles } = await supabase\n    .from(\"articles\")\n    .select(\"*\")\n    .eq(\"author_id\", userId)\n    .order(\"created_at\", { ascending: false })\n    .limit(10)\n\n  return articles as Article[] | null\n}\n\nexport default async function AdminPage() {\n  const supabase = await createSupabaseServer()\n  const { data } = await supabase.auth.getUser()\n  \n  if (!data.user) {\n    redirect(`/login?from=/admin`)\n  }\n\n  const stats = await getStats(data.user.id)\n  const recentArticles = await getRecentArticles(data.user.id)\n\n  const statsData = stats\n    ? [\n        {\n          label: \"Total Articles\",\n          value: stats.totalArticles.toString(),\n          icon: FileText,\n          change: `+${stats.thisMonthArticles} this month`,\n        },\n        {\n          label: \"Published\",\n          value: stats.publishedArticles.toString(),\n          icon: FileText,\n          change: `${stats.totalArticles - stats.publishedArticles} drafts`,\n        },\n        {\n          label: \"Total Views\",\n          value: stats.totalViews.toLocaleString(),\n          icon: Eye,\n          change: \"All time\",\n        },\n        {\n          label: \"Avg. Views\",\n          value:\n            stats.totalArticles > 0\n              ? Math.round(stats.totalViews / stats.totalArticles).toString()\n              : \"0\",\n          icon: TrendingUp,\n          change: \"Per article\",\n        },\n      ]\n    : [\n        { label: \"Total Articles\", value: \"0\", icon: FileText, change: \"No articles\" },\n        { label: \"Published\", value: \"0\", icon: FileText, change: \"No articles\" },\n        { label: \"Total Views\", value: \"0\", icon: Eye, change: \"No views\" },\n        { label: \"Avg. Views\", value: \"0\", icon: TrendingUp, change: \"No data\" },\n      ]\n  return (\n    <main className=\"py-16 md:py-24\">\n      <div className=\"container mx-auto px-4 md:px-6\">\n        {/* Header */}\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-12\">\n          <div>\n            <h1 className=\"text-3xl md:text-4xl font-bold tracking-tight mb-2\">Admin Dashboard</h1>\n            <p className=\"text-muted-foreground\">블로그 관리 및 통계를 확인하세요.</p>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <Link\n              href=\"/admin/articles/new\"\n              className=\"inline-flex items-center justify-center gap-2 bg-foreground text-background px-4 py-2 text-sm font-medium rounded-md hover:bg-foreground/90 transition-colors w-fit\"\n            >\n              <FileText className=\"h-4 w-4\" />새 글 작성\n            </Link>\n            <LogoutButton />\n          </div>\n        </div>\n\n        {/* Stats Grid */}\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-12\">\n          {statsData.map((stat) => (\n            <div key={stat.label} className=\"border border-border rounded-lg p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <span className=\"text-sm text-muted-foreground\">{stat.label}</span>\n                <stat.icon className=\"h-5 w-5 text-muted-foreground\" />\n              </div>\n              <div className=\"text-2xl font-bold mb-1\">{stat.value}</div>\n              <div className=\"text-xs text-muted-foreground\">{stat.change}</div>\n            </div>\n          ))}\n        </div>\n\n        {/* Recent Articles Table */}\n        <div className=\"border border-border rounded-lg\">\n          <div className=\"p-6 border-b border-border\">\n            <h2 className=\"text-lg font-semibold\">최근 아티클</h2>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead>\n                <tr className=\"border-b border-border bg-secondary/30\">\n                  <th className=\"text-left text-sm font-medium text-muted-foreground px-6 py-3\">Title</th>\n                  <th className=\"text-left text-sm font-medium text-muted-foreground px-6 py-3\">Views</th>\n                  <th className=\"text-left text-sm font-medium text-muted-foreground px-6 py-3\">Status</th>\n                  <th className=\"text-right text-sm font-medium text-muted-foreground px-6 py-3\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {recentArticles && recentArticles.length > 0 ? (\n                  recentArticles.map((article) => (\n                    <tr\n                      key={article.id}\n                      className=\"border-b border-border last:border-0 hover:bg-secondary/20 transition-colors\"\n                    >\n                      <td className=\"px-6 py-4 text-sm font-medium\">{article.title}</td>\n                      <td className=\"px-6 py-4 text-sm text-muted-foreground\">\n                        {article.views.toLocaleString()}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span\n                          className={`inline-flex items-center px-2 py-1 text-xs font-medium rounded ${\n                            article.status === \"published\"\n                              ? \"bg-secondary text-foreground\"\n                              : \"bg-muted text-muted-foreground\"\n                          }`}\n                        >\n                          {article.status === \"published\" ? \"Published\" : \"Draft\"}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 text-right\">\n                        <Link\n                          href={`/admin/articles/${article.id}/edit`}\n                          className=\"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n                        >\n                          <Edit className=\"h-3 w-3\" />\n                          Edit\n                        </Link>\n                      </td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan={4} className=\"px-6 py-8 text-center text-sm text-muted-foreground\">\n                      작성된 글이 없습니다.\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}